{"version":3,"sources":["user_main.cljc"],"mappings":";AA6CA,AAKA,AAoCA","names":[],"sourcesContent":["(ns user-main\r\n  (:require contrib.uri ; data_readers\r\n            contrib.ednish\r\n            [hyperfiddle.api :as hf]\r\n            [hyperfiddle.electric :as e]\r\n            [hyperfiddle.electric-dom2 :as dom]\r\n            [hyperfiddle.history :as history]\r\n            [demo.demo-index :as demos]\r\n\r\n            demo.demo-1-hello-world\r\n            demo.demo-2-toggle\r\n            demo.demo-3-system-properties\r\n            demo.demo-4-chat\r\n            demo.demo-4-chat-extended\r\n            demo.demo-4-webview\r\n            demo.demo-5-todomvc\r\n            demo.demo-todomvc-composed\r\n            demo.demo-6-two-clocks\r\n            demo.demo-explorer\r\n            ;wip.demo-explorer2\r\n            demo.demo-10k-dom-elements\r\n            demo.demo-svg\r\n            demo.todos-simple\r\n            demo.seven-gui-1-counter\r\n            demo.seven-gui-2-temperature-converter\r\n            demo.seven-gui-4-timer\r\n            demo.seven-gui-5-crud\r\n            demo.demo-scrollview\r\n            demo.demo-color\r\n            demo.tic-tac-toe\r\n            demo.blinker\r\n            ;wip.demo-branched-route\r\n    #_wip.hfql\r\n            ;wip.tag-picker\r\n            ;wip.teeshirt-orders\r\n\r\n    ; this demo require `npm install`\r\n    #_user.demo-reagent-interop\r\n\r\n    ; these demos require extra deps alias\r\n    #_wip.dennis-exception-leak\r\n    #_wip.demo-stage-ui4\r\n    #_wip.datomic-browser))\r\n\r\n\r\n(e/defn NotFoundPage []\r\n  (e/client (dom/h1 (dom/text \"Page not found\"))))\r\n\r\n; todo: macro to auto-install demos by attaching clj metadata to e/defn vars?\r\n\r\n(e/defn Pages [page]\r\n  (e/server\r\n    (case page\r\n      `demo.demo-index/Demos demo.demo-index/Demos\r\n      `demo.demo-index/Secrets demo.demo-index/Secrets\r\n      ;`demo.demo-1-hello-world/HelloWorld demo.demo-1-hello-world/HelloWorld\r\n      `demo.blinker/Blinker demo.blinker/Blinker\r\n      ;::demos/hfql-teeshirt-orders wip.teeshirt-orders/App\r\n      `demo.demo-explorer/DirectoryExplorer demo.demo-explorer/DirectoryExplorer\r\n      ;::demos/explorer2 wip.demo-explorer2/App\r\n      ;::demos/demo-10k-dom-elements demo.demo-10k-dom-elements/App ; todo too slow to unmount, crashes\r\n      ;::demos/router-recursion wip.demo-branched-route/App\r\n      ;::demos/tag-picker wip.tag-picker/App\r\n      ::demos/toggle demo.demo-2-toggle/App\r\n      ::demos/system-properties demo.demo-3-system-properties/App\r\n      ::demos/chat demo.demo-4-chat/App\r\n      ::demos/chat-extended demo.demo-4-chat-extended/App\r\n      ::demos/webview demo.demo-4-webview/App\r\n      ::demos/todos-simple demo.todos-simple/Todo-list ; css fixes\r\n      ::demos/todomvc demo.demo-5-todomvc/App\r\n      ::demos/todomvc-composed demo.demo-todomvc-composed/App\r\n      ::demos/color demo.demo-color/App\r\n      ::demos/two-clocks demo.demo-6-two-clocks/App\r\n      ::demos/infinite-scroll demo.demo-scrollview/Demo\r\n      ::demos/seven-guis-counter demo.seven-gui-1-counter/Counter\r\n      ::demos/seven-guis-temperature-converter demo.seven-gui-2-temperature-converter/App\r\n      ::demos/seven-guis-timer demo.seven-gui-4-timer/Timer\r\n      ::demos/seven-guis-crud demo.seven-gui-5-crud/App\r\n      ::demos/tic-tac-toe demo.tic-tac-toe/App\r\n      `demo.demo-svg/SVG demo.demo-svg/SVG\r\n      ;`demo.demo-reagent-interop/ReagentInterop (when react-available demo.demo-reagent-interop/ReagentInterop)\r\n      ;::demos/dennis-exception-leak wip.dennis-exception-leak/App2\r\n      ;::demos/demo-stage-ui4 wip.demo-stage-ui4/Demo\r\n      ;`wip.datomic-browser/DatomicBrowser wip.datomic-browser/DatomicBrowser\r\n      NotFoundPage)))\r\n\r\n(e/defn Main []\r\n  (binding [history/encode contrib.ednish/encode-uri\r\n            history/decode #(or (contrib.ednish/decode-path % hf/read-edn-str)\r\n                              [`demo.demo-index/Demos])]\r\n    (history/router (history/HTML5-History.)\r\n      (set! (.-title js/document) (str (clojure.string/capitalize (name (first history/route))) \" - Hyperfiddle\"))\r\n      (binding [dom/node js/document.body]\r\n        (dom/pre (dom/text (contrib.str/pprint-str history/route)))\r\n        (let [[page & args] history/route]\r\n          (e/server (new (Pages. page #_args))))))))\r\n"]}