{"version":3,"sources":["user/demo_tic_tac_toe.cljc"],"mappings":";AAKA,gCAAA,hCAAKA;AACL,AACA,qCAAA,rCAAMC,kFAAcC,MAAMC;AAA1B,AAA+B,gEAAA,WAAAC,pEAACC,+CAAOH,MAAMC;AAAd,AAAmB,IAAAG,WAAAF;AAAA,AAAA,QAAAE;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,mEAAAD;;;;;AAElD,AAUA","names":["user.demo-tic-tac-toe/!x","user.demo-tic-tac-toe/update-board","board","pos","p1__49823#","cljs.core.update","G__49824","js/Error"],"sourcesContent":["(ns user.demo-tic-tac-toe\r\n  (:require [hyperfiddle.electric :as e]\r\n            [hyperfiddle.electric-dom2 :as dom]\r\n            [hyperfiddle.electric-ui4 :as ui]))\r\n\r\n(def !x #?(:clj (atom (vec (repeat 10 0))) :cljs nil))\r\n(e/def x (e/server (e/watch !x)))\r\n(defn update-board [board pos] (update board pos #(case % 0 1, 1 2, 2 0)))\r\n\r\n(e/defn Button [offset]\r\n  (ui/button (e/fn []\r\n               (e/server\r\n                 (swap! !x update-board offset)))\r\n    (dom/text\r\n      (case (e/server (nth x offset))\r\n        2 \"x\"\r\n        1 \"o\"\r\n        0 \"-\"))))\r\n\r\n(e/defn TicTacToe []\r\n  (e/client\r\n    (dom/h1 (dom/text \"Tic Tac Toe \\uD83C\\uDFAE\"))\r\n    (dom/p (dom/text \"multiplayer works, try two tabs\"))\r\n    (dom/table\r\n      (e/for [row [[0 1 2]\r\n                   [3 4 5]\r\n                   [6 7 8]]]\r\n        (dom/tr\r\n          (e/for [i row]\r\n            (dom/td\r\n              (Button. i))))))))\r\n"]}