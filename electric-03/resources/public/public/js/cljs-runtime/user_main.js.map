{"version":3,"sources":["user_main.cljc"],"mappings":";AA8CA,AAKA,AAmCA","names":[],"sourcesContent":["(ns user-main\r\n  (:require contrib.uri ; data_readers\r\n            contrib.ednish\r\n            [hyperfiddle.api :as hf]\r\n            [hyperfiddle.electric :as e]\r\n            [hyperfiddle.electric-dom2 :as dom]\r\n            [hyperfiddle.history :as history]\r\n            [user.demo-index :as demos]\r\n\r\n            user.demo-two-clocks\r\n            user.demo-toggle\r\n            user.demo-system-properties\r\n            user.demo-chat\r\n            user.demo-chat-extended\r\n            user.demo-webview\r\n            user.demo-todomvc\r\n            user.demo-todomvc-branched\r\n            user.demo-todomvc-composed\r\n\r\n            user.demo-explorer\r\n            user.demo-10k-dom\r\n            user.demo-svg\r\n            user.demo-todos-simple\r\n            wip.demo-todos-advanced-old\r\n            wip.demo-todos-advanced\r\n            user.tutorial-7guis-1-counter\r\n            user.tutorial-7guis-2-temperature\r\n            user.tutorial-7guis-4-timer\r\n            user.tutorial-7guis-5-crud\r\n            user.demo-virtual-scroll\r\n            user.demo-color\r\n            user.demo-tic-tac-toe\r\n            user.tutorial-blinker\r\n            wip.tag-picker\r\n            wip.demo-custom-types\r\n            wip.tracing\r\n\r\n            ; this demo require `npm install`\r\n            #_user.demo-reagent-interop\r\n\r\n            ; these demos require extra deps alias\r\n            #_wip.dennis-exception-leak\r\n            #_wip.demo-stage-ui4\r\n            #_wip.datomic-browser\r\n            ))\r\n\r\n(e/defn NotFoundPage []\r\n  (e/client (dom/h1 (dom/text \"Page not found\"))))\r\n\r\n; todo: macro to auto-install demos by attaching clj metadata to e/defn vars?\r\n\r\n(e/defn Pages [page]\r\n  (e/server\r\n    (case page\r\n      `user.demo-index/Demos user.demo-index/Demos\r\n      `user.demo-index/Secrets user.demo-index/Secrets\r\n      `user.demo-two-clocks/TwoClocks user.demo-two-clocks/TwoClocks\r\n      `user.demo-explorer/DirectoryExplorer user.demo-explorer/DirectoryExplorer\r\n      ;user.demo-10k-dom/Dom-10k-Elements user.demo-10k-dom/Dom-10k-Elements ; todo too slow to unmount, crashes\r\n      `wip.tag-picker/TagPicker wip.tag-picker/TagPicker\r\n      `user.demo-toggle/Toggle user.demo-toggle/Toggle\r\n      `wip.demo-custom-types/CustomTypes wip.demo-custom-types/CustomTypes\r\n      `user.demo-system-properties/SystemProperties user.demo-system-properties/SystemProperties\r\n      `user.demo-chat/Chat user.demo-chat/Chat\r\n      `user.demo-chat-extended/ChatExtended user.demo-chat-extended/ChatExtended\r\n      `user.demo-webview/Webview user.demo-webview/Webview\r\n      `user.demo-todos-simple/TodoList user.demo-todos-simple/TodoList ; css fixes\r\n      `user.demo-todomvc/TodoMVC user.demo-todomvc/TodoMVC\r\n      `user.demo-todomvc-branched/TodoMVCBranched user.demo-todomvc-branched/TodoMVCBranched\r\n      `user.demo-todomvc-composed/TodoMVC-composed user.demo-todomvc-composed/TodoMVC-composed\r\n      `user.demo-color/Color user.demo-color/Color\r\n      `user.demo-virtual-scroll/VirtualScroll user.demo-virtual-scroll/VirtualScroll\r\n      `user.tutorial-7guis-1-counter/Counter user.tutorial-7guis-1-counter/Counter\r\n      `user.tutorial-7guis-2-temperature/TemperatureConverter user.tutorial-7guis-2-temperature/TemperatureConverter\r\n      `user.tutorial-7guis-4-timer/Timer user.tutorial-7guis-4-timer/Timer\r\n      `user.tutorial-7guis-5-crud/CRUD user.tutorial-7guis-5-crud/CRUD\r\n      `user.demo-tic-tac-toe/TicTacToe user.demo-tic-tac-toe/TicTacToe\r\n      `user.demo-svg/SVG user.demo-svg/SVG\r\n      `user.tutorial-blinker/Blinker user.tutorial-blinker/Blinker\r\n      `wip.tracing/TracingDemo wip.tracing/TracingDemo\r\n      ;`user.demo-reagent-interop/ReagentInterop (when react-available user.demo-reagent-interop/ReagentInterop)\r\n      ;::demos/dennis-exception-leak wip.dennis-exception-leak/App2\r\n      ;`wip.demo-stage-ui4/CrudForm wip.demo-stage-ui4/CrudForm\r\n      ;`wip.datomic-browser/DatomicBrowser wip.datomic-browser/DatomicBrowser\r\n      NotFoundPage)))\r\n\r\n(e/defn Main []\r\n  (binding [history/encode contrib.ednish/encode-uri\r\n            history/decode #(or (contrib.ednish/decode-path % hf/read-edn-str)\r\n                               [`user.demo-index/Demos])]\r\n    (history/router (history/HTML5-History.)\r\n      (set! (.-title js/document) (str (clojure.string/capitalize (name (first history/route))) \" - Hyperfiddle\"))\r\n      (binding [dom/node js/document.body]\r\n        (dom/pre (dom/text (contrib.str/pprint-str history/route)))\r\n        (let [[page & args] history/route]\r\n          (e/server (new (Pages. page #_args))))))))\r\n"]}