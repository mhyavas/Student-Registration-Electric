{"version":3,"sources":["user_main.cljc"],"mappings":";AAkDA,AAKA,AAwCA","names":[],"sourcesContent":["(ns user-main\r\n  (:require contrib.uri ; data_readers\r\n            contrib.ednish\r\n            [hyperfiddle.api :as hf]\r\n            [hyperfiddle.electric :as e]\r\n            [hyperfiddle.electric-dom2 :as dom]\r\n            [hyperfiddle.history :as history]\r\n            [demo.demo-index :as demos]\r\n\r\n            demo.demo-studentDatomic\r\n            demo.demo-student2\r\n            demo.demo-student\r\n            demo.demo-two-clocks\r\n            demo.demo-toggle\r\n            demo.demo-system-properties\r\n            demo.demo-chat\r\n            demo.demo-chat-extended\r\n            demo.demo-webview\r\n            demo.demo-todomvc\r\n            demo.demo-todomvc-branched\r\n            demo.demo-todomvc-composed\r\n\r\n            demo.demo-explorer\r\n            demo.demo-10k-dom\r\n            demo.demo-svg\r\n            demo.demo-todos-simple\r\n            wip.demo-todos-advanced-old\r\n            wip.demo-todos-advanced\r\n            demo.tutorial-7guis-1-counter\r\n            demo.tutorial-7guis-2-temperature\r\n            demo.tutorial-7guis-4-timer\r\n            demo.tutorial-7guis-5-crud\r\n            demo.demo-virtual-scroll\r\n            demo.demo-color\r\n            demo.demo-tic-tac-toe\r\n            demo.tutorial-blinker\r\n            wip.tag-picker\r\n            wip.demo-custom-types\r\n            wip.tracing\r\n            demo.demo-datomic-browser\r\n\r\n            ; this demo require `npm install`\r\n            #_demo.demo-reagent-interop\r\n\r\n            ; these demos require extra deps alias\r\n            #_wip.dennis-exception-leak\r\n            #_wip.demo-stage-ui4\r\n            #_wip.datomic-browser\r\n            ))\r\n\r\n(e/defn NotFoundPage []\r\n  (e/client (dom/h1 (dom/text \"Page not found\"))))\r\n\r\n; todo: macro to auto-install demos by attaching clj metadata to e/defn vars?\r\n\r\n(e/defn Pages [page]\r\n  (e/server\r\n    (case page\r\n      `demo.demo-index/Demos demo.demo-index/Demos\r\n      `demo.demo-index/Secrets demo.demo-index/Secrets\r\n      `demo.demo-two-clocks/TwoClocks demo.demo-two-clocks/TwoClocks\r\n      `demo.demo-explorer/DirectoryExplorer demo.demo-explorer/DirectoryExplorer\r\n      ;demo.demo-10k-dom/Dom-10k-Elements demo.demo-10k-dom/Dom-10k-Elements ; todo too slow to unmount, crashes\r\n      `wip.tag-picker/TagPicker wip.tag-picker/TagPicker\r\n      `demo.demo-toggle/Toggle demo.demo-toggle/Toggle\r\n      `wip.demo-custom-types/CustomTypes wip.demo-custom-types/CustomTypes\r\n      `demo.demo-system-properties/SystemProperties demo.demo-system-properties/SystemProperties\r\n      `demo.demo-chat/Chat demo.demo-chat/Chat\r\n      `demo.demo-chat-extended/ChatExtended demo.demo-chat-extended/ChatExtended\r\n      `demo.demo-webview/Webview demo.demo-webview/Webview\r\n      `demo.demo-todos-simple/TodoList demo.demo-todos-simple/TodoList ; css fixes\r\n      `demo.demo-todomvc/TodoMVC demo.demo-todomvc/TodoMVC\r\n      `demo.demo-todomvc-branched/TodoMVCBranched demo.demo-todomvc-branched/TodoMVCBranched\r\n      `demo.demo-todomvc-composed/TodoMVC-composed demo.demo-todomvc-composed/TodoMVC-composed\r\n      `demo.demo-color/Color demo.demo-color/Color\r\n      `demo.demo-virtual-scroll/VirtualScroll demo.demo-virtual-scroll/VirtualScroll\r\n      `demo.tutorial-7guis-1-counter/Counter demo.tutorial-7guis-1-counter/Counter\r\n      `demo.tutorial-7guis-2-temperature/TemperatureConverter demo.tutorial-7guis-2-temperature/TemperatureConverter\r\n      `demo.tutorial-7guis-4-timer/Timer demo.tutorial-7guis-4-timer/Timer\r\n      `demo.tutorial-7guis-5-crud/CRUD demo.tutorial-7guis-5-crud/CRUD\r\n      `demo.demo-tic-tac-toe/TicTacToe demo.demo-tic-tac-toe/TicTacToe\r\n      `demo.demo-studentDatomic/TodoMVC demo.demo-studentDatomic/TodoMVC\r\n      `demo.demo-student2/Student2 demo.demo-student2/Student2\r\n      `demo.demo-student/Student demo.demo-student/Student\r\n      `demo.demo-svg/SVG demo.demo-svg/SVG\r\n      `demo.tutorial-blinker/Blinker demo.tutorial-blinker/Blinker\r\n      `wip.tracing/TracingDemo wip.tracing/TracingDemo\r\n      `demo.demo-datomic-browser/DatomicBrowser demo.demo-datomic-browser/DatomicBrowser\r\n\r\n      ;`demo.demo-reagent-interop/ReagentInterop (when react-available demo.demo-reagent-interop/ReagentInterop)\r\n      ;::demos/dennis-exception-leak wip.dennis-exception-leak/App2\r\n      ;`wip.demo-stage-ui4/CrudForm wip.demo-stage-ui4/CrudForm\r\n      ;`wip.datomic-browser/DatomicBrowser wip.datomic-browser/DatomicBrowser\r\n      NotFoundPage)))\r\n\r\n(e/defn Main []\r\n  (binding [history/encode contrib.ednish/encode-uri\r\n            history/decode #(or (contrib.ednish/decode-path % hf/read-edn-str)\r\n                               [`demo.demo-index/Demos])]\r\n    (history/router (history/HTML5-History.)\r\n      (set! (.-title js/document) (str (clojure.string/capitalize (name (first history/route))) \" - Hyperfiddle\"))\r\n      (binding [dom/node js/document.body]\r\n        (dom/pre (dom/text (contrib.str/pprint-str history/route)))\r\n        (let [[page & args] history/route]\r\n          (e/server (new (Pages. page #_args))))))))\r\n"]}