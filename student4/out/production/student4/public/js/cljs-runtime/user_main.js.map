{"version":3,"sources":["user_main.cljc"],"mappings":";AAcA,AAIA,AAOA","names":[],"sourcesContent":["(ns user-main\r\n  (:require contrib.ednish\r\n            [hyperfiddle.api :as hf]\r\n            [hyperfiddle.electric :as e]\r\n            [hyperfiddle.electric-dom2 :as dom]\r\n            [hyperfiddle.history :as history]\r\n            #_[app.main-index :as demos]\r\n            app.demo-index\r\n            app.instructor-search\r\n            app.student-search\r\n            app.main-index))\r\n\r\n\r\n\r\n(e/defn NotFoundPage []\r\n        (e/client (dom/h1 (dom/text \"Page not found!\"))))\r\n\r\n\r\n(e/defn Pages [page]\r\n        (e/server\r\n          (case page\r\n            `app.main-index/Demos `app.main-index/Demos\r\n            `app.student-search/StudentSearch app.student-search/StudentSearch\r\n            NotFoundPage)))\r\n\r\n(e/defn Main []\r\n        (binding [history/encode contrib.ednish/encode-uri\r\n                  history/decode #(or (contrib.ednish/decode-path % hf/read-edn-str)\r\n                                      [`app.main-index/Demos])]\r\n          (history/router (history/HTML5-History.)\r\n                          (set! (.-title js/document) (str (clojure.string/capitalize (name (first history/route))) \" - Hyperfiddle\"))\r\n                          (binding [dom/node js/document.body])\r\n                          (dom/pre (dom/text (contrib.str/pprint-str history/route)))\r\n                          (let [[page & args] history/route]\r\n                            (e/server (new (Pages. page #_args)))))))\r\n\r\n"]}