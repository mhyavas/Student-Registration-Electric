{"version":3,"sources":["app/supplier.cljc"],"mappings":";AAgBA,AACA,AAEA,AAEA,AAcA","names":[],"sourcesContent":["(ns app.supplier\r\n  (:require\r\n    [hyperfiddle.electric :as e]\r\n    [hyperfiddle.electric-dom2 :as dom]\r\n    [hyperfiddle.history :as history]\r\n    #?(:clj [datomic.client.api :as dt])\r\n    app.customer\r\n    ))\r\n\r\n\r\n;todo projeler eklenecek\r\n;todo aktif ve inaktif projeler olarak filtereleme olacak\r\n;todo Proje isimlerine tikladigimizda proje detaylarina gidecek bir sayfaya yonlendirelecek\r\n;todo Mesaj sayfasina yonlendirme olacak\r\n;todo Customerlarin actigi ilanlari gezebilecegi bir sayfaya yonlendirme\r\n\r\n(e/def conn)\r\n(e/def db)\r\n\r\n(e/defn Main []\r\n        (e/client (dom/text \"Supplier Test\")))\r\n(e/defn Page [[page x]]\r\n        (dom/h1 (dom/text \"Datomic browser\"))\r\n        (dom/link (dom/props {:rel :stylesheet, :href \"gridsheet-optional.css\"}))\r\n        (dom/div (dom/props {:class \"user-gridsheet-demo\"})\r\n                 (dom/div (dom/text \"Nav: \")\r\n                          (history/link [::customer] (dom/text \"home\")) (dom/text \" \")\r\n                          )\r\n\r\n                       (case page\r\n                         ::main (history/router 1 (e/server (Main.)))\r\n                         ::customer (history/router 1 (e/server (app.customer/Customer.))))\r\n                         (e/client (dom/text \"no matching route: \" (pr-str page)))))\r\n\r\n\r\n(e/defn Supplier []\r\n        (e/client\r\n          (binding [dom/node js/document.body\r\n                    history/encode contrib.ednish/encode-uri\r\n                    history/decode #(or (contrib.ednish/decode-path % read-edn-str) [::main])]\r\n\r\n            (history/router (history/HTML5-History.)\r\n                            (dom/pre (dom/text (contrib.str/pprint-str history/route)))\r\n\r\n                            (e/server\r\n                              (binding [conn @(requiring-resolve 'user/datomic-conn)]\r\n                                (binding [db (dt/db conn)]\r\n                                  (e/client\r\n                                    (Page. history/route)))))))))\r\n"]}