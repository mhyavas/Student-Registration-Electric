{"version":3,"sources":["demo/demo_student2.cljc"],"mappings":";AAYA,wBAAA,mFAAA,2CAAA,kDAAA,IAAA,qDAAA,UAAA,iEAAA,0FAAA,2CAAA,kDAAA,IAAA,qDAAA,YAAA,iEAAA,zoBAAKA;AASL,iCAAA,mFAAA,2CAAA,kDAAA,MAAA,qDAAA,SAAA,qDAAA,aAAA,iEAAA,0FAAA,2CAAA,kDAAA,MAAA,qDAAA,SAAA,qDAAA,eAAA,iEAAA,0FAAA,2CAAA,kDAAA,MAAA,qDAAA,SAAA,qDAAA,eAAA,iEAAA,xpCAAKC;AAsBL","names":["demo.demo-student2/db","demo.demo-student2/course-list"],"sourcesContent":["(ns demo.demo-student2\r\n  (:require\r\n    contrib.str\r\n    [clojure.string :as str]\r\n    [hyperfiddle.electric :as e]\r\n    [hyperfiddle.electric-dom2 :as dom]\r\n    [hyperfiddle.electric-ui4 :as ui]\r\n    [missionary.core :as m]\r\n    [clojure.string :as str]\r\n    [clojure.walk :as wlk]))\r\n\r\n\r\n(def db\r\n  [{:id 1\r\n    :name \"Can Ali\"\r\n    :department :department/matematik}\r\n   {:id 2\r\n    :name \"Ali Deniz\"\r\n    :department :department/fizik}\r\n   ])\r\n\r\n(def course-list\r\n  [{:id 201\r\n    :code \"MAT101\"\r\n    :name \"Calculus 1\"\r\n    :department :department/matematik}\r\n   {:id 301\r\n    :code \"BIL101\"\r\n    :name \"MATLAB Giris\"\r\n    :department :department/matematik}\r\n   {:id 301\r\n    :code \"BIL101\"\r\n    :name \"MATLAB Giris\"\r\n    :department :department/fizik}\r\n   ])\r\n\r\n#?(:clj\r\n   (defn student-filter [db ?s]\r\n     (->> db\r\n          (filter (fn [m] (str/includes? (m :department) (str ?s))))\r\n          (into []))))\r\n\r\n\r\n(e/defn Student2 []\r\n        (e/client\r\n          (dom/h1 (dom/text \"Student Registration\"))\r\n          (let [!search (atom \"\")\r\n                search (e/watch !search)]\r\n            (e/server\r\n              (let [system-props (into [] (student-filter db search))]\r\n                (e/client\r\n                  (dom/div (dom/props {:style {:color \"gray\"}}))\r\n                  (ui/input search (e/fn [name] (reset! !search name))\r\n                            (dom/props {:type \"search\" :placeholder \"department\"}))\r\n                  (dom/h3 (dom/text \"Student List\"))\r\n                  (dom/table (dom/props {:style {:border-style :solid :border-collapse :collapse}})\r\n                    (e/server\r\n                      (e/for [{:keys [id name department]} system-props]\r\n                             (e/client\r\n                               (dom/tr (dom/props {:style {:border-style :solid :border-collapse :collapse}})\r\n                                 (dom/td (dom/props {:style {:border-style :solid :border-collapse :collapse}}) (dom/text id))\r\n                                  (dom/td (dom/props {:style {:border-style :solid :border-collapse :collapse}}) (dom/text name))\r\n                                  (dom/td (dom/props {:style {:border-style :solid :border-collapse :collapse :white-space :nowrap}}) (dom/text department)))))))))))\r\n\r\n          (dom/h2 (dom/text  \"Course Search\"))\r\n          (let [!course (atom \"\")\r\n                course (e/watch !course)]\r\n            (e/server\r\n              (let [system-props (into [] (student-filter course-list course))]\r\n                (e/client\r\n                  (dom/div (dom/props {:style {:color \"gray\"}}))\r\n                  (ui/input course (e/fn [name] (reset! !course name))\r\n                            (dom/props {:type \"search\" :placeholder \"department\"}))\r\n                  (dom/h3 (dom/text \"Course List\"))\r\n                  (dom/table (dom/props {:style {:border-style :solid :border-collapse :collapse}})\r\n                    (e/server\r\n                      (e/for [{:keys [id name department]} system-props]\r\n                             (e/client\r\n                               (dom/tr (dom/props {:style {:border-style :solid :border-collapse :collapse}})\r\n                                 (dom/td (dom/props {:style {:border-style :solid :border-collapse :collapse}}) (dom/text id))\r\n                                 (dom/td (dom/props {:style {:border-style :solid :border-collapse :collapse}}) (dom/text name))\r\n                                 (dom/td (dom/props {:style {:border-style :solid  :border-collapse :collapse}}) (dom/text department))\r\n\r\n                                 )))))))))))"]}